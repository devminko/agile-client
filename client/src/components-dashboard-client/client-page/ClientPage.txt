import React, { } from 'react';
import PropTypes from 'prop-types';
import { MdEmail, MdPhoneInTalk } from 'react-icons/md'

import ClientItem from '../client-item/ClientItem';
import CompanyItem from '../../components-dashboard-company/company-item/CompanyItem';
import LogItem from '../../components-dashboard-logs/log-item/LogItem';

import style from './client-page.module.scss';

// *************************** CLIENT PAGE COMPONENT *************************** //
const ClientPage = ({ client }) => {
  // 'client' object passed as prop from 'DashboardPage.js'
  const { id, first_name, last_name, email, phone_number, job_title, notes, client_company, logs, loading } = client;

  // Render Client Info to page
  const clientInfo = (
    <div className={style.clientPage}>
      
      <div className={style.clientHeader}>
        <div className={style.nameContainer}>
          <h2 className={style.clientName}>{first_name} {last_name}</h2>
          <p className={style.jobTitle}>{job_title}</p>
        </div>
      </div>
      
      <div className={style.sectionContainer}>
        <h3 className={style.sectionTitle}>Contact Info</h3>
        <div className={style.infoContainer}>
          <MdPhoneInTalk aria-label='Phone Number' className={style.icon} />
          <p className={style.infoText}>{phone_number}</p>
        </div>
        <div className={style.infoContainer}>
          <MdEmail aria-label='Email Address' className={style.icon} />
          <p className={style.infoText}>{email}</p>
        </div>
      </div>

      <div className={style.sectionContainer}>
        <h3 className={style.sectionTitle}>Notes</h3>
        <p className={style.noteText}>
          { notes ? notes : 'No client notes added...'}
        </p>
      </div>

      <div className={style.sectionContainer}>
        <h3 className={style.sectionTitle}>Company</h3>
        <CompanyItem client={client} />
      </div>

      <div className={style.sectionContainer}>
        <h3 className={style.sectionTitle}>Recent Meetings / Logs</h3>
        <LogItem client={client} />
      </div>

    </div>
  );

  return (
    loading ? <p>loading...</p> : clientInfo
  )
};

// PROP TYPES
ClientPage.propTypes = {
  client: PropTypes.object.isRequired,
};

export default ClientPage;